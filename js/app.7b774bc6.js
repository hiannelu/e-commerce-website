(function(t){function e(e){for(var a,i,n=e[0],c=e[1],u=e[2],d=0,p=[];d<n.length;d++)i=n[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(p.length)p.shift()();return r.push.apply(r,u||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],a=!0,n=1;n<s.length;n++){var c=s[n];0!==o[c]&&(a=!1)}a&&(r.splice(e--,1),t=i(i.s=s[0]))}return t}var a={},o={app:0},r=[];function i(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=a,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/e-commerce-website/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=e,n=n.slice();for(var u=0;u<n.length;u++)e(n[u]);var l=c;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"4aad":function(t,e,s){"use strict";s("ae52")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("link",{attrs:{rel:"stylesheet",href:"https://pro.fontawesome.com/releases/v5.10.0/css/all.css",integrity:"sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p",crossorigin:"anonymous"}}),s("router-view")],1)},r=[],i={name:"App"},n=i,c=(s("5c0b"),s("2877")),u=Object(c["a"])(n,o,r,!1,null,null,null),l=u.exports,d=s("8c4f"),p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Navbar"),"/admin/products"==this.$route.path?s("Admin"):s("User")],1)},m=[],h=(s("ac1f"),s("5319"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-dark sticky-top bg-dark shadow"},[s("a",{staticClass:"navbar-brand col-md-3 col-lg-2 mr-0 px-3",attrs:{href:"#"}},[t._v(" Anne's Supermarket ")]),s("div",{staticClass:"title"},[t._m(0),s("div",[s("img",{staticStyle:{"border-radius":"50%"},attrs:{src:this.picture,height:"50",width:"50"}}),t._v(" "+t._s(t.account)+" "+t._s(t.role)+" "),s("div",{staticClass:"btn-group"},[s("button",{staticClass:"btn btn-info",on:{click:t.signout}},[t._v(" ( Sign Out ) ")]),s("button",{staticClass:"btn btn-warning"},[s("span",{staticClass:"col-3",staticStyle:{color:"red"}},[t._v(t._s(t.cart))]),t._v(" Cart")])])])])])}),f=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("i",{staticClass:"fas fa-phone-alt"},[t._v(" 0800-000-000")]),s("i",{staticClass:"fas fa-gift"},[t._v(" Offers")]),s("i",{staticClass:"far fa-question-circle"},[t._v(" Help")])])}],v={name:"Navbar",data:function(){return{account:"",picture:"",role:"",cart:0}},mounted:function(){"/user/products"==this.$route.path?(this.account="Gaspard",this.role="User",this.picture="/./pictures/user.jpg"):(this.account="Lisa",this.role="Administrator",this.picture="/./pictures/admin.jpg")},methods:{signout:function(){var t=this,e="https://vue-course-api.hexschool.io/logout";this.axios.post(e).then((function(e){console.log(e.data),e.data.success&&t.$router.push("/signin")}))}}},g=v,b=(s("db06"),Object(c["a"])(g,h,f,!1,null,"a840f4e6",null)),_=b.exports,y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container col-md-8"},[s("div",{staticClass:"text-right"},[s("button",{staticClass:"btn btn-edit",on:{click:function(e){return t.openModal(!0)}}},[t._v("New product")])]),s("table",{staticClass:"table mt-4"},[t._m(0),s("tbody",t._l(t.products,(function(e){return s("tr",{key:e.id},[s("td",[s("img",{staticClass:"img-thumbnail",attrs:{src:e.image,height:"100",width:"150"}})]),s("td",[t._v(t._s(e.category))]),s("td",[t._v(t._s(e.name))]),s("td",[t._v(t._s(e.price))]),s("td",[t._v(t._s(e.description))]),s("td",{staticClass:"btn-group"},[s("button",{staticClass:"btn btn-view"},[t._v("View")]),s("button",{staticClass:"btn btn-edit",on:{click:function(s){return t.openModal(!1,e)}}},[t._v("Edit")]),s("button",{staticClass:"btn btn-delete",on:{click:function(s){return t.deleteProduct(e.id)}}},[t._v("Delete")])])])})),0)]),s("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(t._s(t.modalTitle))]),t._m(1)]),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("label",[t._v("Image")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.image,expression:"tempProduct.image"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter URL"},domProps:{value:t.tempProduct.image},on:{change:t.uploadFile,input:function(e){e.target.composing||t.$set(t.tempProduct,"image",e.target.value)}}}),s("label",[t._v("or Upload image")]),s("input",{staticClass:"form-control",attrs:{type:"file"},on:{change:t.uploadFile}})]),s("div",{staticClass:"col"},[s("label",[t._v("Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.name,expression:"tempProduct.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter name"},domProps:{value:t.tempProduct.name},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"name",e.target.value)}}}),s("label",[t._v("Category")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.category,expression:"tempProduct.category"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter category"},domProps:{value:t.tempProduct.category},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"category",e.target.value)}}}),s("label",[t._v("Price")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.price,expression:"tempProduct.price"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter price"},domProps:{value:t.tempProduct.price},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"price",e.target.value)}}}),s("label",[t._v("Description")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.description,expression:"tempProduct.description"}],staticClass:"form-control",attrs:{placeholder:"Enter description"},domProps:{value:t.tempProduct.description},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"description",e.target.value)}}})])])]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updateProduct}},[t._v("Save")])])])])])])])},w=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("Image")]),s("th",[t._v("Category")]),s("th",[t._v("Name")]),s("th",[t._v("Price")]),s("th",[t._v("Description")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])}],C=(s("99af"),s("4160"),s("159b"),s("1157")),P=s.n(C),x="http://localhost:3036",$={data:function(){return{products:[],tempProduct:{},isNew:"",modalTitle:""}},created:function(){this.getProducts()},methods:{getProducts:function(){var t=this;console.log(this.$route.path),this.axios.get("".concat(x).concat(this.$route.path)).then((function(e){t.products=[],e.data.forEach((function(e){return t.products.push(e)}))})),console.log(this.products)},openModal:function(t,e){P()("#productModal").modal("show"),t?(this.tempProduct={},this.modalTitle="Create product",this.isNew=!0):(this.tempProduct=Object.assign({},e),this.modalTitle="Update product",this.isNew=!1)},updateProduct:function(){var t=this;this.isNew?(console.log(this.tempProduct),this.axios.post("".concat(x).concat(this.$route.path),{data:t.tempProduct}).then((function(e){console.log(e.data),console.log(t.tempProduct),e.data.success&&(P()("#productModal").modal("hide"),t.getProducts())}))):this.axios.put("".concat(x).concat(this.$route.path,"/").concat(t.tempProduct.id),{data:t.tempProduct}).then((function(e){console.log(e.data),console.log(t.tempProduct),e.data.success&&(P()("#productModal").modal("hide"),t.getProducts())}))},deleteProduct:function(t){var e=this;this.axios.delete("".concat(x).concat(this.$route.path,"/").concat(t)).then((function(t){t.data.success&&e.getProducts()}))}}},k=$,j=(s("b77d"),Object(c["a"])(k,y,w,!1,null,null,null)),E=j.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("swiper",{ref:"mySwiper",staticClass:"swiper",attrs:{options:t.swiperOptions}},[s("swiper-slide",[s("img",{attrs:{src:"/./pictures/slide_1.jpg"}})]),s("swiper-slide",[s("img",{attrs:{src:"/./pictures/slide_2.jpg"}})]),s("swiper-slide",[s("img",{attrs:{src:"/./pictures/slide_3.jpg"}})]),s("swiper-slide",[s("img",{attrs:{src:"/./pictures/slide_4.jpg"}})]),s("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],1),s("div",{staticClass:"category"},[s("img",{staticClass:"img-thumbnail",attrs:{src:t.dumplingHover?"/./pictures/dumpling.jpeg":"/./pictures/dumpling_hover.jpeg",width:"200",height:"200"},on:{mouseover:function(e){t.dumplingHover=!1},mouseleave:function(e){t.dumplingHover=!0},click:function(e){return t.category("Dumplings")}}}),s("img",{staticClass:"img-thumbnail",attrs:{src:t.meatHover?"/./pictures/meat.jpeg":"/./pictures/meat_hover.jpeg",width:"200",height:"200"},on:{mouseover:function(e){t.meatHover=!1},mouseleave:function(e){t.meatHover=!0},click:function(e){return t.category("Meats")}}}),s("img",{staticClass:"img-thumbnail",attrs:{src:t.veggieHover?"/./pictures/veggie.jpeg":"/./pictures/veggie_hover.jpeg",width:"200",height:"200"},on:{mouseover:function(e){t.veggieHover=!1},mouseleave:function(e){t.veggieHover=!0},click:function(e){return t.category("Veggies")}}}),s("img",{staticClass:"img-thumbnail",attrs:{src:t.fruitHover?"/./pictures/fruit.jpeg":"/./pictures/fruit_hover.jpeg",width:"200",height:"200"},on:{mouseover:function(e){t.fruitHover=!1},mouseleave:function(e){t.fruitHover=!0},click:function(e){return t.category("Fruits")}}}),s("img",{staticClass:"img-thumbnail",attrs:{src:t.dessertHover?"/./pictures/dessert.jpeg":"/./pictures/dessert_hover.jpeg",width:"200",height:"200"},on:{mouseover:function(e){t.dessertHover=!1},mouseleave:function(e){t.dessertHover=!0},click:function(e){return t.category("Desserts")}}})]),s("div",{style:{"background-position-x":0,"background-position-y":t.y+"px"},attrs:{id:"parallax"}},[t._v(" "+t._s(t.categoryTitle)+" ")]),s("div",{staticClass:"wrap-products"},t._l(t.products,(function(e,a){return s("div",{key:a,staticClass:"col-sm-3"},[s("div",{staticClass:"card shadow",staticStyle:{width:"13rem",height:"22rem"}},[s("img",{staticClass:"card-img-top",attrs:{src:e.image,alt:"Card image cap"}}),s("div",{staticClass:"card-body"},[s("div",{staticClass:"card-text"},[t._v(t._s(e.name))]),s("div",{staticClass:"card-text"},[t._v("NT$ "),s("span",{staticStyle:{color:"red"}},[t._v(t._s(t.totalPrice[a]))])]),s("div",{staticClass:"quantity"},[s("i",{staticClass:"fas fa-arrow-up",on:{click:function(s){return t.add(a,e.price)}}}),t._v(" "+t._s(t.quantity[a])+" "),s("i",{staticClass:"fas fa-arrow-down",on:{click:function(s){return t.minus(a,e.price)}}}),s("i",{staticClass:"fas fa-shopping-cart",on:{click:function(s){return t.cart(e,a)}}})])])])])})),0)],1)},H=[],q=(s("a434"),s("bc3a")),S=s.n(q),N="http://localhost:3036",M={data:function(){return{swiperOptions:{pagination:{el:".swiper-pagination"},slidesPerView:3,autoplay:!0,speed:200,loop:!0,centeredSlides:!0,watchSlidesProgress:!0,spaceBetween:50,effect:"coverflow",coverflowEffect:{rotate:0,stretch:50,depth:400,modifier:1,slideShadows:!1}},dumplingHover:!0,meatHover:!0,veggieHover:!0,fruitHover:!0,dessertHover:!0,y:0,categoryTitle:"Anne's Supermarket",products:[],quantity:[],totalPrice:[]}},created:function(){this.getProducts()},mounted:function(){var t=this;window.onload=function(){var e=document.getElementById("parallax");t.y+=.5*e.offsetTop}},methods:{getProducts:function(){var t=this;console.log(this.$route.path),S.a.get("".concat(N).concat(this.$route.path)).then((function(e){e.data.forEach((function(e){t.products.push(e),t.quantity.push(1),t.totalPrice.push(e.price)}))})),console.log(this.products)},category:function(t){var e=this;this.categoryTitle=t,this.products=[],this.quantity=[],this.totalPrice=[],S.a.get("".concat(N).concat(this.$route.path)).then((function(s){s.data.forEach((function(s){t==s.category&&(console.log("title: "+t),e.products.push(s),e.quantity.push(1),e.totalPrice.push(s.price))}))}))},add:function(t,e){var s=this.quantity[t]+1;console.log("index: "+t),console.log("quantity: "+this.quantity),console.log("add: "+s),this.quantity.splice(t,1,s),console.log("new quantity: "+this.quantity),this.totalPrice.splice(t,1,s*e)},minus:function(t,e){var s=this.quantity[t]-1;s>0&&(this.quantity.splice(t,1,s),this.totalPrice.splice(t,1,s*e))},cart:function(t,e){console.log(t,this.quantity[e])}}},T=M,A=(s("4aad"),Object(c["a"])(T,O,H,!1,null,null,null)),L=A.exports,D={components:{Navbar:_,Admin:E,User:L},created:function(){var t=document.cookie.replace(/(?:(?:^|.*;\s*)token\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=t}},I=D,U=Object(c["a"])(I,p,m,!1,null,null,null),V=U.exports,G=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrap"},[s("form",{staticClass:"form-signin",on:{submit:function(e){return e.preventDefault(),t.signin(e)}}},[s("h1",{staticClass:"title"},[t._v("Sign In")]),t.signinCheck?s("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(" Incorrect username or password. ")]):t._e(),s("label",{staticClass:"mt-4 font-weight-bold",attrs:{for:"inputEmail"}},[t._v("Email address")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"email",id:"inputEmail",placeholder:"Enter email",required:"",autofocus:""},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),s("label",{staticClass:"mt-3 font-weight-bold",attrs:{for:"inputPassword"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"Enter password",required:""},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),s("input",{attrs:{type:"checkbox",value:"remember-me"}}),s("label",{staticClass:"mt-3 ml-2"},[t._v("Remember me")]),s("button",{staticClass:"mt-3 btn btn-primary btn-block",attrs:{type:"submit"}},[t._v("Sign In")]),s("p",{staticClass:"title mt-5 text-muted"},[t._v("Â© 2020")])])])},Y=[],F=(s("7db0"),"http://localhost:3036"),J={name:"Login",data:function(){return{user:{username:"",password:""},signinCheck:!1}},methods:{signin:function(){var t=this;this.axios.get("".concat(F,"/signin")).then((function(e){console.log(e.data),console.log(e);var s=function(e){return e.username==t.user.username&&e.password==t.user.password},a=e.data.find(s).role;t.$router.push("/".concat(a,"/products"))}))}}},B=J,R=(s("fcd0"),Object(c["a"])(B,G,Y,!1,null,"635dfddb",null)),z=R.exports;a["default"].use(d["a"]);var K=[{path:"/signin",name:"signin",component:z},{path:"/admin",component:V,children:[{path:"products",component:E,meta:{requiresAuth:!0}}]},{path:"/user",component:V,children:[{path:"products",component:L,meta:{requiresAuth:!0}}]}],Z=new d["a"]({mode:"history",base:"/e-commerce-website/",routes:K}),Q=Z,W=s("2106"),X=s.n(W),tt=s("5f5b"),et=s("7212"),st=s.n(et);s("f9e3"),s("2dd8"),s("bbe3");a["default"].use(tt["a"]),a["default"].use(st.a),a["default"].config.productionTip=!1,new a["default"]({router:Q,render:function(t){return t(l)}}).$mount("#app"),a["default"].use(X.a,S.a)},"5c0b":function(t,e,s){"use strict";s("9c0c")},"664f":function(t,e,s){},"7a47":function(t,e,s){},"9c0c":function(t,e,s){},ae52:function(t,e,s){},b77d:function(t,e,s){"use strict";s("7a47")},db06:function(t,e,s){"use strict";s("f0bc")},f0bc:function(t,e,s){},fcd0:function(t,e,s){"use strict";s("664f")}});
//# sourceMappingURL=app.7b774bc6.js.map